Νικόλαος Δρυμουσης									Α.Μ:1115201500037
						PROJECT 1
						
Περιεχόμενα:

Η άσκηση αποτελείται από 19 αρχεία (11.c αρχεια 6.h, 1 makefile και 1.sh).Εχει ακομα και 2 txt αρχεια
(1 με χωρες και 1 με ασθενειες) για τη δημιουργια inputFile απο το script.

Εντολη μεταγγλωτισης και εκτελεσης:

Για compile γραφεται make στο command line εφοσων υπαρχει makefile.
Για εκτελεση ./vaccineMonitor -c citizenRecordsFile -b bloomSize
		ή
	     ./vaccineMonitor -b bloomSize -c citizenRecordsFile 

Memory leaks:

Το προγραμμα εχει ελεγθει με valgrind και σε ωσες περιπτωσεις εχω ελεγξει απελευθερώνει με επιτυχία
ολη τη μνημη που δεσμευει.

Σχεδιαστικές επιλογές:

Για γρηγορη αναζητηση των virus εχει υλοποιηθει και hash table με linked list ωστε ο καθε κομβος του hash table αυτου να περιεχει πληροφοριες για αυτη την ασθενεια.Καθε κομβος του hash table περιεχει:
1.το ονομα της ασθενεις
2.2 bloom filter(1 για τους εμβολιασμενους και 1 για τους μη εμβολιασμενους)
3.2 skip lists(1 για τους εμβολιασμενους και 1 για τους μη εμβολιασμενους)
4.2 μεταβλητες για το υψος των skip list(1 για καθε skip list αντιστοιχα)
5.2 μεταβλητες καθε μια για το αθροισμα των εμβολιασμενων και μη εμβολιασμένων αντιστοιχα
6.2 λιστες(1 για τους εμβολιασμενους και 1 για τους μη εμβολιασμενους)
7.1 hash table για τις χωρες στις οποιες εντοπιζεται ο ιος.
8.1 link για το επομενο hash node σε περιπτωση collision

To country hash table που περιεχουν αυτοι οι hash κομβοι περιεχει:
1.1 skip list(που αφορα μονο τους εμβολιασμενους)
2.1 list(που αφορα μονο τους εμβολιασμενους)
3.1 μεταβλητη για το υψος του skip list
4.1 μεταβλητη για τον συνολικο αριθμο των ανθρωπων της χωρας για τους οποιους εχουμε στατιστικα για τον ιο
5.1 μεταβλητη για τον συνολικο αριθμο των εμβολιασμενων για τον ιο
6.1 Link για το επομενο country hash node σε περιπτωση collision

To country hash table αυτο μας βοηθαει στις συναρτησεις populationStatus και popStatusByAge καθως οι
εμβολιασμενοι ειναι οργανωμενοι με βαση την ημερομηνια που εχουν εμβολιαστει σε μια ταξινομημενη
λιστα ξεκινωντα με το μικροτερο date.

Εκτος απο αυτα τα δυο hash table εχουμε και αλλα δυο που αφορουν στατιστικα για μια χωρα(population
hash table), που μας βοηθουν στις συναρτησεις populationStatus και popStatusByAge(για να παρουμε πχ τον αριθμο των πολιτων που ειναι σε ενα συγκεκριμενο ηλικιακο group, καθως και το συνολικο 
πληθυσμο της χωρας), και πληροφοριες για τα records(citizen hash table),που μας βοηθαει στο να
διαπιστοσουμε αν μια εγγραφη υπαρχει ή αν μια σε μια εγγραφη που θελουμε να εισαγουμε εχουμε δωσει
και τα σωστα info(για παραδειγμα ενα id θα πρεπει να εχει το ιδιο ονομα, επωνυμο, ηλικα και χωρα αν το
δουμε δευτερη φορα για να ειναι σωστο).

Ωσον αφορα τα skip lists η υλοποιηση τους γινεται με διαφορετικο struct απο αυτο της λιστας πραγμα που συνειδητοποιησα αργοτερα οτι ισως να μην ηταν η καλυτερη επιλογη αλλα ειχα προχωρησει πολυ στην
υλοποιηση της εργασιας για να το κανω να ειναι το ιδιο struct.Ετσι τα skip list σε καθε virus hash
node εκφραζονται σαν ενας πινακας της δομης skip list οπου το 0 ειναι το μικροτερο λεβελ και το max
του πινακα το μεγαλυτερο.Ετσι για αναζητηση ξεκιναμε πρωτα απο το max που θα εχει τους λιγοτερους
κομβους και κατεβαινουμε τον πινακα μεχρι το level 1.Επειτα στο επιπεδο 0 του πινακα τα skip nodes
εχουν pointers στα αντιστοιχα list node και ετσι μπορουμε να εχουμε προσβαση σε αυτα.
Γενικα τα skip node περιεχουν το citizen id, την ημερομηνια εμβολιασμου(για το country hash),μια μετα-
βλητη για το επιπεδο τους, 3 pointers σε αλλα skip node(1 για το αντιστοιχο skip node σε μεγαλυτερο level αν υπαρχει, ενα για το επομενο στο ιδιο level και ενα για το αντιστοιχο χαμηλοτερο αν το level ειναι πανω απο ενα) και αν το level ειναι ενα εχουν και pointer στο αντιστοιχο node της κανονικης λιστας.

Για το πως υλοποιουνται οι συναρτησεις υπαρχουν και σχολια στον κωδικα.Τα αρχεια .c που ανεφερα παραπανω ειναι χωρισμενα αναλογα με την δομη ή τη λειτουργια που υλοποιουν ωστε να ειναι πιο ευκολο
να εντοπισετε την συναρτηση στο καταλληλο αρχειο.

Bash script:

To script κανει ελεγχο για να δει αν τα ορισματα ειναι σωστα.
Η μονη αξιολογη παρατηρηση ειναι αν επιτρεπονται τα duplicates.Αν δεν επιτρεπονται duplicates
το script χρησιμοποιει 4 assosiative arrays(1 για ονομα, 1 για επιθετο, 1 για χωρα και 1 για ηλιακια)
οπου καθε id σχετιζεται και με συγκεκριμενες τιμες στα παραπανω 4 array.Αλλιως το προγραμμα επιτρεπεται για ιδια id να εχει διαφορετικες πληροφοριες.Λειτουργει σωστα που εχω δοκιμασει μεχρι
100000 εγγραφες αλλα οσο μεγαλωνει ο αριθμος τοσο περισσοτερο αργει.
